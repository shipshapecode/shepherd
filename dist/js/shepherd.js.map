{"version":3,"file":"shepherd.js","sources":["../../node_modules/deepmerge/dist/cjs.js","../../src/js/utils/type-check.js","../../src/js/evented.js","../../src/js/utils/auto-bind.js","../../src/js/utils/bind.js","../../node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","../../node_modules/@popperjs/core/lib/dom-utils/getWindow.js","../../node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","../../node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","../../node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","../../node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","../../node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","../../node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","../../node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","../../node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","../../node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","../../node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","../../node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","../../node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","../../node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","../../node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","../../node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","../../node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","../../node_modules/@popperjs/core/lib/enums.js","../../node_modules/@popperjs/core/lib/utils/orderModifiers.js","../../node_modules/@popperjs/core/lib/utils/debounce.js","../../node_modules/@popperjs/core/lib/utils/getBasePlacement.js","../../node_modules/@popperjs/core/lib/utils/mergeByName.js","../../node_modules/@popperjs/core/lib/index.js","../../node_modules/@popperjs/core/lib/modifiers/eventListeners.js","../../node_modules/@popperjs/core/lib/utils/getVariation.js","../../node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","../../node_modules/@popperjs/core/lib/utils/computeOffsets.js","../../node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","../../node_modules/@popperjs/core/lib/modifiers/computeStyles.js","../../node_modules/@popperjs/core/lib/modifiers/applyStyles.js","../../node_modules/@popperjs/core/lib/modifiers/offset.js","../../node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","../../node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","../../node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","../../node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","../../node_modules/@popperjs/core/lib/dom-utils/getBorders.js","../../node_modules/@popperjs/core/lib/dom-utils/getDecorations.js","../../node_modules/@popperjs/core/lib/dom-utils/contains.js","../../node_modules/@popperjs/core/lib/utils/rectToClientRect.js","../../node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","../../node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","../../node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","../../node_modules/@popperjs/core/lib/utils/expandToHashMap.js","../../node_modules/@popperjs/core/lib/utils/detectOverflow.js","../../node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","../../node_modules/@popperjs/core/lib/modifiers/flip.js","../../node_modules/@popperjs/core/lib/utils/getAltAxis.js","../../node_modules/@popperjs/core/lib/utils/within.js","../../node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","../../node_modules/@popperjs/core/lib/modifiers/arrow.js","../../node_modules/@popperjs/core/lib/modifiers/hide.js","../../node_modules/@popperjs/core/lib/popper.js","../../src/js/utils/popper-options.js","../../src/js/utils/general.js","../../node_modules/svelte/internal/index.mjs","../../src/js/components/shepherd-button.svelte","../../src/js/components/shepherd-footer.svelte","../../src/js/components/shepherd-cancel-icon.svelte","../../src/js/components/shepherd-title.svelte","../../src/js/components/shepherd-header.svelte","../../src/js/components/shepherd-text.svelte","../../src/js/components/shepherd-content.svelte","../../src/js/components/shepherd-element.svelte","../../node_modules/smoothscroll-polyfill/dist/smoothscroll.js","../../src/js/step.js","../../src/js/utils/cleanup.js","../../src/js/utils/overlay-path.js","../../src/js/components/shepherd-modal.svelte","../../src/js/tour.js","../../src/js/shepherd.js"],"sourcesContent":["'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","/**\n * Checks if `value` is classified as an `HTMLElement`.\n * @param {*} value The param to check if it is an HTMLElement\n */\nexport function isElement(value) {\n  return value instanceof HTMLElement;\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n * @param {*} value The param to check if it is a function\n */\nexport function isFunction(value) {\n  return typeof value === 'function';\n}\n\n/**\n * Checks if `value` is classified as a `String` object.\n * @param {*} value The param to check if it is a string\n */\nexport function isString(value) {\n  return typeof value === 'string';\n}\n\n/**\n * Checks if `value` is undefined.\n * @param {*} value The param to check if it is undefined\n */\nexport function isUndefined(value) {\n  return value === undefined;\n}\n","import { isUndefined } from './utils/type-check';\n\nexport class Evented {\n  on(event, handler, ctx, once = false) {\n    if (isUndefined(this.bindings)) {\n      this.bindings = {};\n    }\n    if (isUndefined(this.bindings[event])) {\n      this.bindings[event] = [];\n    }\n    this.bindings[event].push({ handler, ctx, once });\n\n    return this;\n  }\n\n  once(event, handler, ctx) {\n    return this.on(event, handler, ctx, true);\n  }\n\n  off(event, handler) {\n    if (isUndefined(this.bindings) ||\n      isUndefined(this.bindings[event])) {\n      return this;\n    }\n\n    if (isUndefined(handler)) {\n      delete this.bindings[event];\n    } else {\n      this.bindings[event].forEach((binding, index) => {\n        if (binding.handler === handler) {\n          this.bindings[event].splice(index, 1);\n        }\n      });\n    }\n\n    return this;\n  }\n\n  trigger(event, ...args) {\n    if (!isUndefined(this.bindings) && this.bindings[event]) {\n      this.bindings[event].forEach((binding, index) => {\n        const { ctx, handler, once } = binding;\n\n        const context = ctx || this;\n\n        handler.apply(context, args);\n\n        if (once) {\n          this.bindings[event].splice(index, 1);\n        }\n      });\n    }\n\n    return this;\n  }\n}","/**\n * Binds all the methods on a JS Class to the `this` context of the class.\n * Adapted from https://github.com/sindresorhus/auto-bind\n * @param {object} self The `this` context of the class\n * @return {object} The `this` context of the class\n */\nexport default function autoBind(self) {\n  const keys = Object.getOwnPropertyNames(self.constructor.prototype);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    const val = self[key];\n    if (key !== 'constructor' && typeof val === 'function') {\n      self[key] = val.bind(self);\n    }\n  }\n\n  return self;\n}\n","import { isUndefined } from './type-check';\n\n/**\n * Sets up the handler to determine if we should advance the tour\n * @param {string} selector\n * @param {Step} step The step instance\n * @return {Function}\n * @private\n */\nfunction _setupAdvanceOnHandler(selector, step) {\n  return (event) => {\n    if (step.isOpen()) {\n      const targetIsEl = step.el && event.currentTarget === step.el;\n      const targetIsSelector = !isUndefined(selector) && event.currentTarget.matches(selector);\n\n      if (targetIsSelector || targetIsEl) {\n        step.tour.next();\n      }\n    }\n  };\n}\n\n/**\n * Bind the event handler for advanceOn\n * @param {Step} step The step instance\n */\nexport function bindAdvance(step) {\n  // An empty selector matches the step element\n  const { event, selector } = step.options.advanceOn || {};\n  if (event) {\n    const handler = _setupAdvanceOnHandler(selector, step);\n\n    // TODO: this should also bind/unbind on show/hide\n    let el;\n    try {\n      el = document.querySelector(selector);\n    } catch (e) {\n      // TODO\n    }\n    if (!isUndefined(selector) && !el) {\n      return console.error(`No element was found for the selector supplied to advanceOn: ${selector}`);\n    } else if (el) {\n      el.addEventListener(event, handler);\n      step.on('destroy', () => {\n        return el.removeEventListener(event, handler);\n      });\n    } else {\n      document.body.addEventListener(event, handler, true);\n      step.on('destroy', () => {\n        return document.body.removeEventListener(event, handler, true);\n      });\n    }\n  } else {\n    return console.error('advanceOn was defined, but no event name was passed.');\n  }\n}\n","export default function getBoundingClientRect(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    width: rect.width,\n    height: rect.height,\n    top: rect.top,\n    right: rect.right,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    y: rect.top\n  };\n}","/*:: import type { Window } from '../types'; */\n\n/*:: declare function getWindow(node: Node | Window): Window; */\nexport default function getWindow(node) {\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getWindow from \"./getWindow.js\";\n/*:: declare function isElement(node: mixed): boolean %checks(node instanceof\n  Element); */\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n/*:: declare function isHTMLElement(node: mixed): boolean %checks(node instanceof\n  HTMLElement); */\n\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nexport { isElement, isHTMLElement };","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe: assume body is always available\n  return (isElement(element) ? element.ownerDocument : element.document).documentElement;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\"; // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (!isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","// Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\nexport default function getLayoutRect(element) {\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  };\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// $FlowFixMe: this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || // DOM Element detected\n    // $FlowFixMe: need a better way to handle this...\n    element.host || // ShadowRoot detected\n    // $FlowFixMe: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nexport default function listScrollParents(element, list) {\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = getNodeName(scrollParent) === 'body';\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n}\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element); // Find the nearest non-table offsetParent\n\n  while (offsetParent && isTableElement(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static') {\n    return window;\n  }\n\n  return offsetParent || window;\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, {}, current, {\n      options: Object.assign({}, existing.options, {}, current.options),\n      data: Object.assign({}, existing.data, {}, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nexport * from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, {}, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(options) {\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, {}, state.options, {}, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator();","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) - Math.floor(reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) + Math.ceil(reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsets(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: Math.round(x * dpr) / dpr || 0,\n    y: Math.round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive;\n\n  var _roundOffsets = roundOffsets(offsets),\n      x = _roundOffsets.x,\n      y = _roundOffsets.y;\n\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n    } // $FlowFixMe: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n    /*:: offsetParent = (offsetParent: Element); */\n\n\n    if (placement === top) {\n      sideY = bottom;\n      y -= offsetParent.clientHeight - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left) {\n      sideX = right;\n      x -= offsetParent.clientWidth - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) < 2 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref3) {\n  var state = _ref3.state,\n      options = _ref3.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, {}, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, {}, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      } // Flow doesn't support to extend this property, but it's the most\n      // effective way to apply styles to an HTMLElement\n      // $FlowFixMe\n\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\";\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","import getWindow from \"./getWindow.js\";\nexport default function getViewportRect(element) {\n  var win = getWindow(element);\n  var visualViewport = win.visualViewport;\n  var width = win.innerWidth;\n  var height = win.innerHeight; // We don't know which browsers have buggy or odd implementations of this, so\n  // for now we're only applying it to iOS to fix the keyboard issue.\n  // Investigation required\n\n  if (visualViewport && /iPhone|iPod|iPad/.test(navigator.platform)) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: 0,\n    y: 0\n  };\n}","import getCompositeRect from \"./getCompositeRect.js\";\nimport getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getDocumentRect(element) {\n  var win = getWindow(element);\n  var winScroll = getWindowScroll(element);\n  var documentRect = getCompositeRect(getDocumentElement(element), win);\n  documentRect.height = Math.max(documentRect.height, win.innerHeight);\n  documentRect.width = Math.max(documentRect.width, win.innerWidth);\n  documentRect.x = -winScroll.scrollLeft;\n  documentRect.y = -winScroll.scrollTop;\n  return documentRect;\n}","import getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\n\nfunction toNumber(cssValue) {\n  return parseFloat(cssValue) || 0;\n}\n\nexport default function getBorders(element) {\n  var computedStyle = isHTMLElement(element) ? getComputedStyle(element) : {};\n  return {\n    top: toNumber(computedStyle.borderTopWidth),\n    right: toNumber(computedStyle.borderRightWidth),\n    bottom: toNumber(computedStyle.borderBottomWidth),\n    left: toNumber(computedStyle.borderLeftWidth)\n  };\n}","import getBorders from \"./getBorders.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getWindow from \"./getWindow.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\"; // Borders + scrollbars\n\nexport default function getDecorations(element) {\n  var win = getWindow(element);\n  var borders = getBorders(element);\n  var isHTML = getNodeName(element) === 'html';\n  var winScrollBarX = getWindowScrollBarX(element);\n  var x = element.clientWidth + borders.right;\n  var y = element.clientHeight + borders.bottom; // HACK:\n  // document.documentElement.clientHeight on iOS reports the height of the\n  // viewport including the bottom bar, even if the bottom bar isn't visible.\n  // If the difference between window innerHeight and html clientHeight is more\n  // than 50, we assume it's a mobile bottom bar and ignore scrollbars.\n  // * A 50px thick scrollbar is likely non-existent (macOS is 15px and Windows\n  //   is about 17px)\n  // * The mobile bar is 114px tall\n\n  if (isHTML && win.innerHeight - element.clientHeight > 50) {\n    y = win.innerHeight - borders.bottom;\n  }\n\n  return {\n    top: isHTML ? 0 : element.clientTop,\n    right: // RTL scrollbar (scrolling containers only)\n    element.clientLeft > borders.left ? borders.right : // LTR scrollbar\n    isHTML ? win.innerWidth - x - winScrollBarX : element.offsetWidth - x,\n    bottom: isHTML ? win.innerHeight - y : element.offsetHeight - y,\n    left: isHTML ? winScrollBarX : element.clientLeft\n  };\n}","export default function contains(parent, child) {\n  // $FlowFixMe: hasOwnProperty doesn't seem to work in tests\n  var isShadow = Boolean(child.getRootNode && child.getRootNode().host); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (isShadow) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDecorations from \"./getDecorations.js\";\nimport contains from \"./contains.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isHTMLElement(clippingParent) ? getBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(element);\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement);\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    var decorations = getDecorations(isHTMLElement(clippingParent) ? clippingParent : getDocumentElement(element));\n    accRect.top = Math.max(rect.top + decorations.top, accRect.top);\n    accRect.right = Math.min(rect.right - decorations.right, accRect.right);\n    accRect.bottom = Math.min(rect.bottom - decorations.bottom, accRect.bottom);\n    accRect.left = Math.max(rect.left + decorations.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), {}, paddingObject);\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var referenceElement = state.elements.reference;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(referenceElement);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, {}, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\n\n/*:: type OverflowsMap = { [ComputedPlacement]: number }; */\n\n/*;; type OverflowsMap = { [key in ComputedPlacement]: number }; */\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = (variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements).filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  }); // $FlowFixMe: Flow seems to have problems with two array unions...\n\n  var overflows = placements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","export default function within(min, value, max) {\n  return Math.max(min, Math.min(value, max));\n}","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport within from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = popperOffsets[mainAxis] + overflow[mainSide];\n    var max = popperOffsets[mainAxis] - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - tetherOffsetValue : minLen - arrowLen - arrowPaddingMin - tetherOffsetValue;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + tetherOffsetValue : maxLen + arrowLen + arrowPaddingMax + tetherOffsetValue;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = state.modifiersData.offset ? state.modifiersData.offset[state.placement][mainAxis] : 0;\n    var tetherMin = popperOffsets[mainAxis] + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = popperOffsets[mainAxis] + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? Math.min(min, tetherMin) : min, offset, tether ? Math.max(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var _preventedOffset = within(_min, _offset, _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport within from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = state.modifiersData[name + \"#persistent\"].padding;\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element,\n      _options$padding = options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n  state.modifiersData[name + \"#persistent\"] = {\n    padding: mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements))\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import { popperGenerator } from \"./index.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","function _getCenteredStylePopperModifier() {\n  return [\n    {\n      name: 'applyStyles',\n      fn({ state }) {\n        Object.keys(state.elements).forEach((name) => {\n          if (name !== 'popper') {\n            return;\n          }\n          const style = {\n            position: 'fixed',\n            left: '50%',\n            top: '50%',\n            transform: 'translate(-50%, -50%)'\n          };\n\n          const attributes = state.attributes[name] || {};\n          const element = state.elements[name];\n\n          Object.assign(element.style, style);\n          Object.keys(attributes).forEach((name) => {\n            const value = attributes[name];\n            if (value === false) {\n              element.removeAttribute(name);\n            } else {\n              element.setAttribute(name, value === true ? '' : value);\n            }\n          });\n        });\n      }\n    },\n    {\n      name: 'computeStyles',\n      options: {\n        adaptive: false\n      }\n    }\n  ];\n}\n\n/**\n * Generates the array of options for a tooltip that doesn't have a\n * target element in the DOM -- and thus is positioned in the center\n * of the view\n *\n * @param {Step} step The step instance\n * @return {Object} The final Popper options object\n */\nexport function makeCenteredPopper(step) {\n  const centeredStylePopperModifier = _getCenteredStylePopperModifier();\n\n  let popperOptions = {\n    placement: 'top',\n    strategy: 'fixed',\n    modifiers: [\n      {\n        name: 'focusAfterRender',\n        enabled: true,\n        phase: 'afterWrite',\n        fn() {\n          setTimeout(() => {\n            step.el.focus();\n          }, 300);\n        }\n      }\n    ]\n  };\n\n  popperOptions = {\n    ...popperOptions,\n    modifiers: Array.from(\n      new Set([...popperOptions.modifiers, ...centeredStylePopperModifier])\n    )\n  };\n\n  return popperOptions;\n}\n","import { createPopper } from '@popperjs/core';\nimport { isString } from './type-check';\nimport { makeCenteredPopper } from './popper-options';\n\n/**\n * Ensure class prefix ends in `-`\n * @param {string} prefix The prefix to prepend to the class names generated by nano-css\n * @return {string} The prefix ending in `-`\n */\nexport function normalizePrefix(prefix) {\n  if (!isString(prefix) || prefix === '') {\n    return '';\n  }\n\n  return prefix.charAt(prefix.length - 1) !== '-' ? `${prefix}-` : prefix;\n}\n\n/**\n * Checks if options.attachTo.element is a string, and if so, tries to find the element\n * @param {Step} step The step instance\n * @returns {{element, on}}\n * `element` is a qualified HTML Element\n * `on` is a string position value\n */\nexport function parseAttachTo(step) {\n  const options = step.options.attachTo || {};\n  const returnOpts = Object.assign({}, options);\n\n  if (isString(options.element)) {\n    // Can't override the element in user opts reference because we can't\n    // guarantee that the element will exist in the future.\n    try {\n      returnOpts.element = document.querySelector(options.element);\n    } catch (e) {\n      // TODO\n    }\n    if (!returnOpts.element) {\n      console.error(\n        `The element for this Shepherd step was not found ${options.element}`\n      );\n    }\n  }\n\n  return returnOpts;\n}\n\n/**\n * Determines options for the tooltip and initializes\n * `step.tooltip` as a Popper instance.\n * @param {Step} step The step instance\n */\nexport function setupTooltip(step) {\n  if (step.tooltip) {\n    step.tooltip.destroy();\n  }\n\n  const attachToOptions = parseAttachTo(step);\n\n  let target = attachToOptions.element;\n  const popperOptions = getPopperOptions(attachToOptions, step);\n\n  if (step.isCentered()) {\n    target = document.body;\n    const content = step.shepherdElementComponent.getElement();\n    content.classList.add('shepherd-centered');\n  }\n\n  step.tooltip = createPopper(target, step.el, popperOptions);\n  step.target = attachToOptions.element;\n\n  return popperOptions;\n}\n\n/**\n * Create a unique id for steps, tours, modals, etc\n * @return {string}\n */\nexport function uuid() {\n  let d = Date.now();\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);\n  });\n}\n\n/**\n * Gets the `Popper` options from a set of base `attachTo` options\n * @param attachToOptions\n * @param {Step} step The step instance\n * @return {Object}\n * @private\n */\nexport function getPopperOptions(attachToOptions, step) {\n  let popperOptions = {\n    modifiers: [\n      {\n        name: 'preventOverflow',\n        options: {\n          altAxis: true\n        }\n      },\n      {\n        name: 'focusAfterRender',\n        enabled: true,\n        phase: 'afterWrite',\n        fn() {\n          setTimeout(() => {\n            step.el.focus();\n          }, 300);\n        }\n      }\n    ],\n    strategy: 'absolute'\n  };\n\n  if (step.isCentered()) {\n    popperOptions = makeCenteredPopper(step);\n  } else {\n    popperOptions.placement = attachToOptions.on;\n  }\n\n  const defaultStepOptions =\n    step.tour && step.tour.options && step.tour.options.defaultStepOptions;\n\n  if (defaultStepOptions) {\n    popperOptions = _mergeModifiers(defaultStepOptions, popperOptions);\n  }\n\n  popperOptions = _mergeModifiers(step.options, popperOptions);\n\n  return popperOptions;\n}\n\nfunction _mergeModifiers(stepOptions, popperOptions) {\n  if (stepOptions.popperOptions) {\n    let mergedPopperOptions = Object.assign(\n      {},\n      popperOptions,\n      stepOptions.popperOptions\n    );\n\n    if (\n      stepOptions.popperOptions.modifiers &&\n      stepOptions.popperOptions.modifiers.length > 0\n    ) {\n      const names = stepOptions.popperOptions.modifiers.map((mod) => mod.name);\n      const filteredModifiers = popperOptions.modifiers.filter(\n        (mod) => !names.includes(mod.name)\n      );\n\n      mergedPopperOptions.modifiers = Array.from(\n        new Set([...filteredModifiers, ...stepOptions.popperOptions.modifiers])\n      );\n    }\n\n    return mergedPopperOptions;\n  }\n\n  return popperOptions;\n}\n","function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value' || descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j];\n                if (attributes[attribute.name]) {\n                    j++;\n                }\n                else {\n                    node.removeAttribute(attribute.name);\n                }\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    if (value != null || input.value) {\n        input.value = value;\n    }\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    const z_index = (parseInt(computed_style.zIndex) || 0) - 1;\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', `display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ` +\n        `overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${z_index};`);\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    let unsubscribe;\n    if (is_crossorigin()) {\n        iframe.src = `data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>`;\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        detach(iframe);\n        if (unsubscribe)\n            unsubscribe();\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(html, anchor = null) {\n        this.e = element('div');\n        this.a = anchor;\n        this.u(html);\n    }\n    m(target, anchor = null) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(target, this.n[i], anchor);\n        }\n        this.t = target;\n    }\n    u(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    p(html) {\n        this.d();\n        this.u(html);\n        this.m(this.t, this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next, lookup.has(block.key));\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if ($$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.22.2' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","<script>\n  import { isFunction } from '../utils/type-check';\n\n  export let config, step;\n  let action, classes, secondary, text, label, disabled;\n\n  $: {\n    action = config.action ? config.action.bind(step.tour) : null;\n    classes = config.classes;\n    secondary = config.secondary;\n    text = config.text;\n    label = config.label;\n    disabled = config.disabled ? getDisabled(config.disabled) : false;\n  }\n\n  function getDisabled(disabled) {\n      if (isFunction(disabled)) {\n          return disabled = disabled.call(step);\n      }\n      return disabled\n  }\n\n</script>\n\n<style global>\n  .shepherd-button {\n    background: rgb(50, 136, 230);\n    border: 0;\n    border-radius: 3px;\n    color: rgba(255, 255, 255, 0.75);\n    cursor: pointer;\n    margin-right: 0.5rem;\n    padding: 0.5rem 1.5rem;\n    transition: all 0.5s ease;\n  }\n\n  .shepherd-button:not(:disabled):hover {\n    background: rgb(25, 111, 204);\n    color: rgba(255, 255, 255, 0.75);\n  }\n\n  .shepherd-button.shepherd-button-secondary {\n    background: rgb(241, 242, 243);\n    color: rgba(0, 0, 0, 0.75);\n  }\n\n  .shepherd-button.shepherd-button-secondary:not(:disabled):hover {\n    background: rgb(214, 217, 219);\n    color: rgba(0, 0, 0, 0.75);\n  }\n\n  .shepherd-button:disabled {\n    cursor: not-allowed;\n  }\n</style>\n\n<button\n  aria-label=\"{label ? label : null}\"\n  class=\"{`${(classes || '')} shepherd-button ${(secondary ? 'shepherd-button-secondary' : '')}`}\"\n  disabled={disabled}\n  on:click={action}\n  tabindex=\"0\"\n>\n    {@html text}\n</button>\n","<script>\n  import ShepherdButton from './shepherd-button.svelte';\n\n  export let step;\n\n  $: buttons = step.options.buttons;\n</script>\n\n<style global>\n  .shepherd-footer {\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    display: flex;\n    justify-content: flex-end;\n    padding: 0 0.75rem 0.75rem;\n  }\n\n  .shepherd-footer .shepherd-button:last-child {\n    margin-right: 0;\n  }\n</style>\n\n<footer class=\"shepherd-footer\">\n    {#if buttons}\n        {#each buttons as config}\n          <ShepherdButton\n            {config}\n            {step}\n          />\n        {/each}\n    {/if}\n</footer>\n","<script>\n  export let cancelIcon, step;\n\n  /**\n   * Add a click listener to the cancel link that cancels the tour\n   */\n  const handleCancelClick = (e) => {\n    e.preventDefault();\n    step.cancel();\n  };\n</script>\n\n<style global>\n  .shepherd-cancel-icon {\n    background: transparent;\n    border: none;\n    color: rgba(128, 128, 128, 0.75);\n    font-size: 2em;\n    cursor: pointer;\n    font-weight: normal;\n    margin: 0;\n    padding: 0;\n    transition: color 0.5s ease;\n  }\n\n  .shepherd-cancel-icon:hover {\n    color: rgba(0, 0, 0, 0.75);\n  }\n\n  .shepherd-has-title .shepherd-content .shepherd-cancel-icon {\n    color: rgba(128, 128, 128, 0.75);\n  }\n\n  .shepherd-has-title .shepherd-content .shepherd-cancel-icon:hover {\n    color: rgba(0, 0, 0, 0.75);\n  }\n</style>\n\n<button\n  aria-label=\"{cancelIcon.label ? cancelIcon.label : 'Close Tour'}\"\n  class=\"shepherd-cancel-icon\"\n  on:click={handleCancelClick}\n  type=\"button\"\n>\n  <span aria-hidden=\"true\">&times;</span>\n</button>\n","<script>\n  import { afterUpdate } from 'svelte';\n  import { isFunction } from '../utils/type-check';\n  \n  export let labelId, element, title;\n  \n  afterUpdate(() => {\n    if (isFunction(title)) {\n      title = title();\n    }\n    \n    element.innerHTML = title;\n  });\n</script>\n\n<style global>\n  .shepherd-title {\n    color: rgba(0, 0, 0, 0.75);\n    display: flex;\n    font-size: 1rem;\n    font-weight: normal;\n    flex: 1 0 auto;\n    margin: 0;\n    padding: 0;\n  }\n</style>\n\n<h3\n  bind:this={element}\n  id=\"{labelId}\"\n  class=\"shepherd-title\"\n>\n</h3>\n","<script>\n  import ShepherdCancelIcon from './shepherd-cancel-icon.svelte';\n  import ShepherdTitle from './shepherd-title.svelte';\n\n  export let labelId, step;\n  let title, cancelIcon;\n\n  $: {\n      title = step.options.title;\n      cancelIcon = step.options.cancelIcon;\n  }\n</script>\n\n<style global>\n  .shepherd-header {\n    align-items: center;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    display: flex;\n    justify-content: flex-end;\n    line-height: 2em;\n    padding: 0.75rem 0.75rem 0;\n  }\n\n  .shepherd-has-title .shepherd-content .shepherd-header {\n    background: #e6e6e6;\n    padding: 1em;\n  }\n</style>\n\n<header class=\"shepherd-header\">\n    {#if title}\n      <ShepherdTitle\n        {labelId}\n        {title}\n      />\n    {/if}\n\n    {#if cancelIcon && cancelIcon.enabled}\n      <ShepherdCancelIcon\n        {cancelIcon}\n        {step}\n      />\n    {/if}\n</header>\n","<script>\n  import { afterUpdate } from 'svelte';\n  import { isElement, isFunction } from '../utils/type-check';\n\n  export let descriptionId, element, step;\n\n  afterUpdate(() => {\n    let { text } = step.options;\n\n    if (isFunction(text)) {\n      text = text.call(step);\n    }\n\n    if (isElement(text)) {\n      element.appendChild(text);\n    } else {\n      element.innerHTML = text;\n    }\n  });\n</script>\n\n<style global>\n  .shepherd-text {\n    color: rgba(0, 0, 0, 0.75);\n    font-size: 1rem;\n    line-height: 1.3em;\n    max-height: 30vh;\n    overflow: scroll;\n    padding: 0.75em;\n  }\n\n  .shepherd-text p {\n    margin-top: 0;\n  }\n\n  .shepherd-text p:last-child {\n    margin-bottom: 0;\n  }\n</style>\n\n<div\n  bind:this={element}\n  class=\"shepherd-text\"\n  id=\"{descriptionId}\"\n>\n</div>\n\n","<script>\n  import ShepherdFooter from './shepherd-footer.svelte';\n  import ShepherdHeader from './shepherd-header.svelte';\n  import ShepherdText from './shepherd-text.svelte';\n  import { isUndefined } from '../utils/type-check.js';\n\n  export let descriptionId, labelId, step;\n</script>\n\n<style global>\n  .shepherd-content {\n    border-radius: 5px;\n    outline: none;\n    padding: 0;\n  }\n</style>\n\n<div\n  class=\"shepherd-content\"\n>\n  {#if !isUndefined(step.options.title) || (step.options.cancelIcon && step.options.cancelIcon.enabled)}\n    <ShepherdHeader\n      {labelId}\n      {step}\n    />\n  {/if}\n\n  {#if !isUndefined(step.options.text)}\n    <ShepherdText\n      {descriptionId}\n      {step}\n    />\n  {/if}\n\n  {#if Array.isArray(step.options.buttons) && step.options.buttons.length}\n    <ShepherdFooter\n      {step}\n    />\n  {/if}\n</div>\n","<script>\n  import { onMount, afterUpdate } from 'svelte';\n  import ShepherdContent from './shepherd-content.svelte';\n  import { isUndefined, isString } from '../utils/type-check.js';\n\n  const KEY_TAB = 9;\n  const KEY_ESC = 27;\n  const LEFT_ARROW = 37;\n  const RIGHT_ARROW = 39;\n\n  export let classPrefix, element, descriptionId, firstFocusableElement,\n    focusableElements, labelId, lastFocusableElement, step, dataStepId;\n\n  let hasCancelIcon, hasTitle, classes;\n\n  $: {\n    hasCancelIcon = step.options && step.options.cancelIcon && step.options.cancelIcon.enabled;\n    hasTitle = step.options && step.options.title;\n  }\n\n  export const getElement = () => element;\n\n  onMount(() => {\n    // Get all elements that are focusable\n    dataStepId = { [`data-${classPrefix}shepherd-step-id`]: step.id };\n    focusableElements = element.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n    firstFocusableElement = focusableElements[0];\n    lastFocusableElement = focusableElements[focusableElements.length - 1];\n  });\n\n  afterUpdate(() => {\n    if(classes !== step.options.classes) {\n      updateDynamicClasses();\n    }\n  });\n\n  function updateDynamicClasses() {\n      removeClasses(classes);\n      classes = step.options.classes;\n      addClasses(classes);\n  }\n\n  function removeClasses(classes) {\n    if (isString(classes)) {\n      const oldClasses = getClassesArray(classes);\n      if (oldClasses.length) {\n        element.classList.remove(...oldClasses);\n      }\n    }\n  }\n\n  function addClasses(classes) {\n    if(isString(classes)) {\n      const newClasses = getClassesArray(classes);\n      if (newClasses.length) {\n        element.classList.add(...newClasses);\n      }\n    }\n  }\n\n  function getClassesArray(classes) {\n     return classes.split(' ').filter(className => !!className.length);\n  }\n\n  /**\n   * Setup keydown events to allow closing the modal with ESC\n   *\n   * Borrowed from this great post! https://bitsofco.de/accessible-modal-dialog/\n   *\n   * @private\n   */\n  const handleKeyDown = (e) => {\n    const { tour } = step;\n    switch (e.keyCode) {\n      case KEY_TAB:\n        if (focusableElements.length === 0) {\n          e.preventDefault();\n          break;\n        }\n        // Backward tab\n        if (e.shiftKey) {\n          if (document.activeElement === firstFocusableElement) {\n            e.preventDefault();\n            lastFocusableElement.focus();\n          }\n        } else {\n          if (document.activeElement === lastFocusableElement) {\n            e.preventDefault();\n            firstFocusableElement.focus();\n          }\n        }\n        break;\n      case KEY_ESC:\n        if (tour.options.exitOnEsc) {\n          step.cancel();\n        }\n        break;\n      case LEFT_ARROW:\n        if (tour.options.keyboardNavigation) {\n          tour.back();\n        }\n        break;\n      case RIGHT_ARROW:\n        if (tour.options.keyboardNavigation) {\n          tour.next();\n        }\n        break;\n      default:\n        break;\n    }\n  };\n</script>\n\n<style global>\n  .shepherd-element {\n    background: #fff;\n    border-radius: 5px;\n    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);\n    max-width: 400px;\n    opacity: 0;\n    outline: none;\n    transition: opacity 0.3s, visibility 0.3s;\n    visibility: hidden;\n    width: 100%;\n    z-index: 9999;\n  }\n\n  .shepherd-enabled.shepherd-element {\n    opacity: 1;\n    visibility: visible;\n  }\n\n  .shepherd-element[data-popper-reference-hidden]:not(.shepherd-centered) {\n    opacity: 0;\n    pointer-events: none;\n    visibility: hidden;\n  }\n\n  .shepherd-element, .shepherd-element *,\n  .shepherd-element *:after,\n  .shepherd-element *:before {\n    box-sizing: border-box;\n  }\n\n  .shepherd-arrow,\n  .shepherd-arrow::before {\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    z-index: -1;\n  }\n\n  .shepherd-arrow:before {\n    content: '';\n    transform: rotate(45deg);\n    background: #fff  ;\n  }\n\n  .shepherd-element[data-popper-placement^='top'] > .shepherd-arrow {\n    bottom: -8px;\n  }\n\n  .shepherd-element[data-popper-placement^='bottom'] > .shepherd-arrow {\n    top: -8px;\n  }\n\n  .shepherd-element[data-popper-placement^='left'] > .shepherd-arrow {\n    right: -8px;\n  }\n\n  .shepherd-element[data-popper-placement^='right'] > .shepherd-arrow {\n    left: -8px;\n  }\n\n  .shepherd-element.shepherd-centered > .shepherd-arrow {\n    opacity: 0;\n  }\n\n\n  /**\n  * Arrow on top of tooltip centered horizontally, with title color\n  */\n  .shepherd-element.shepherd-has-title[data-popper-placement^='bottom'] > .shepherd-arrow::before {\n    background-color: #e6e6e6;\n  }\n\n  .shepherd-target-click-disabled.shepherd-enabled.shepherd-target,\n  .shepherd-target-click-disabled.shepherd-enabled.shepherd-target * {\n    pointer-events: none;\n  }\n</style>\n\n<div\n  aria-describedby={!isUndefined(step.options.text) ? descriptionId : null}\n  aria-labelledby={step.options.title ? labelId : null}\n  bind:this={element}\n  class:shepherd-has-cancel-icon=\"{hasCancelIcon}\"\n  class:shepherd-has-title=\"{hasTitle}\"\n  class:shepherd-element=\"{true}\"\n  {...dataStepId}\n  on:keydown={handleKeyDown}\n  role=\"dialog\"\n  tabindex=\"0\"\n>\n    {#if step.options.arrow && step.options.attachTo && step.options.attachTo.element}\n      <div class=\"shepherd-arrow\" data-popper-arrow></div>\n    {/if}\n  <ShepherdContent\n    {descriptionId}\n    {labelId}\n    {step}\n  />\n</div>\n","/* smoothscroll v0.4.4 - 2019 - Dustan Kasten, Jeremias Menichelli - MIT License */\n(function () {\n  'use strict';\n\n  // polyfill\n  function polyfill() {\n    // aliases\n    var w = window;\n    var d = document;\n\n    // return if scroll behavior is supported and polyfill is not forced\n    if (\n      'scrollBehavior' in d.documentElement.style &&\n      w.__forceSmoothScrollPolyfill__ !== true\n    ) {\n      return;\n    }\n\n    // globals\n    var Element = w.HTMLElement || w.Element;\n    var SCROLL_TIME = 468;\n\n    // object gathering original scroll methods\n    var original = {\n      scroll: w.scroll || w.scrollTo,\n      scrollBy: w.scrollBy,\n      elementScroll: Element.prototype.scroll || scrollElement,\n      scrollIntoView: Element.prototype.scrollIntoView\n    };\n\n    // define timing method\n    var now =\n      w.performance && w.performance.now\n        ? w.performance.now.bind(w.performance)\n        : Date.now;\n\n    /**\n     * indicates if a the current browser is made by Microsoft\n     * @method isMicrosoftBrowser\n     * @param {String} userAgent\n     * @returns {Boolean}\n     */\n    function isMicrosoftBrowser(userAgent) {\n      var userAgentPatterns = ['MSIE ', 'Trident/', 'Edge/'];\n\n      return new RegExp(userAgentPatterns.join('|')).test(userAgent);\n    }\n\n    /*\n     * IE has rounding bug rounding down clientHeight and clientWidth and\n     * rounding up scrollHeight and scrollWidth causing false positives\n     * on hasScrollableSpace\n     */\n    var ROUNDING_TOLERANCE = isMicrosoftBrowser(w.navigator.userAgent) ? 1 : 0;\n\n    /**\n     * changes scroll position inside an element\n     * @method scrollElement\n     * @param {Number} x\n     * @param {Number} y\n     * @returns {undefined}\n     */\n    function scrollElement(x, y) {\n      this.scrollLeft = x;\n      this.scrollTop = y;\n    }\n\n    /**\n     * returns result of applying ease math function to a number\n     * @method ease\n     * @param {Number} k\n     * @returns {Number}\n     */\n    function ease(k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k));\n    }\n\n    /**\n     * indicates if a smooth behavior should be applied\n     * @method shouldBailOut\n     * @param {Number|Object} firstArg\n     * @returns {Boolean}\n     */\n    function shouldBailOut(firstArg) {\n      if (\n        firstArg === null ||\n        typeof firstArg !== 'object' ||\n        firstArg.behavior === undefined ||\n        firstArg.behavior === 'auto' ||\n        firstArg.behavior === 'instant'\n      ) {\n        // first argument is not an object/null\n        // or behavior is auto, instant or undefined\n        return true;\n      }\n\n      if (typeof firstArg === 'object' && firstArg.behavior === 'smooth') {\n        // first argument is an object and behavior is smooth\n        return false;\n      }\n\n      // throw error when behavior is not supported\n      throw new TypeError(\n        'behavior member of ScrollOptions ' +\n          firstArg.behavior +\n          ' is not a valid value for enumeration ScrollBehavior.'\n      );\n    }\n\n    /**\n     * indicates if an element has scrollable space in the provided axis\n     * @method hasScrollableSpace\n     * @param {Node} el\n     * @param {String} axis\n     * @returns {Boolean}\n     */\n    function hasScrollableSpace(el, axis) {\n      if (axis === 'Y') {\n        return el.clientHeight + ROUNDING_TOLERANCE < el.scrollHeight;\n      }\n\n      if (axis === 'X') {\n        return el.clientWidth + ROUNDING_TOLERANCE < el.scrollWidth;\n      }\n    }\n\n    /**\n     * indicates if an element has a scrollable overflow property in the axis\n     * @method canOverflow\n     * @param {Node} el\n     * @param {String} axis\n     * @returns {Boolean}\n     */\n    function canOverflow(el, axis) {\n      var overflowValue = w.getComputedStyle(el, null)['overflow' + axis];\n\n      return overflowValue === 'auto' || overflowValue === 'scroll';\n    }\n\n    /**\n     * indicates if an element can be scrolled in either axis\n     * @method isScrollable\n     * @param {Node} el\n     * @param {String} axis\n     * @returns {Boolean}\n     */\n    function isScrollable(el) {\n      var isScrollableY = hasScrollableSpace(el, 'Y') && canOverflow(el, 'Y');\n      var isScrollableX = hasScrollableSpace(el, 'X') && canOverflow(el, 'X');\n\n      return isScrollableY || isScrollableX;\n    }\n\n    /**\n     * finds scrollable parent of an element\n     * @method findScrollableParent\n     * @param {Node} el\n     * @returns {Node} el\n     */\n    function findScrollableParent(el) {\n      while (el !== d.body && isScrollable(el) === false) {\n        el = el.parentNode || el.host;\n      }\n\n      return el;\n    }\n\n    /**\n     * self invoked function that, given a context, steps through scrolling\n     * @method step\n     * @param {Object} context\n     * @returns {undefined}\n     */\n    function step(context) {\n      var time = now();\n      var value;\n      var currentX;\n      var currentY;\n      var elapsed = (time - context.startTime) / SCROLL_TIME;\n\n      // avoid elapsed times higher than one\n      elapsed = elapsed > 1 ? 1 : elapsed;\n\n      // apply easing to elapsed time\n      value = ease(elapsed);\n\n      currentX = context.startX + (context.x - context.startX) * value;\n      currentY = context.startY + (context.y - context.startY) * value;\n\n      context.method.call(context.scrollable, currentX, currentY);\n\n      // scroll more if we have not reached our destination\n      if (currentX !== context.x || currentY !== context.y) {\n        w.requestAnimationFrame(step.bind(w, context));\n      }\n    }\n\n    /**\n     * scrolls window or element with a smooth behavior\n     * @method smoothScroll\n     * @param {Object|Node} el\n     * @param {Number} x\n     * @param {Number} y\n     * @returns {undefined}\n     */\n    function smoothScroll(el, x, y) {\n      var scrollable;\n      var startX;\n      var startY;\n      var method;\n      var startTime = now();\n\n      // define scroll context\n      if (el === d.body) {\n        scrollable = w;\n        startX = w.scrollX || w.pageXOffset;\n        startY = w.scrollY || w.pageYOffset;\n        method = original.scroll;\n      } else {\n        scrollable = el;\n        startX = el.scrollLeft;\n        startY = el.scrollTop;\n        method = scrollElement;\n      }\n\n      // scroll looping over a frame\n      step({\n        scrollable: scrollable,\n        method: method,\n        startTime: startTime,\n        startX: startX,\n        startY: startY,\n        x: x,\n        y: y\n      });\n    }\n\n    // ORIGINAL METHODS OVERRIDES\n    // w.scroll and w.scrollTo\n    w.scroll = w.scrollTo = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        original.scroll.call(\n          w,\n          arguments[0].left !== undefined\n            ? arguments[0].left\n            : typeof arguments[0] !== 'object'\n              ? arguments[0]\n              : w.scrollX || w.pageXOffset,\n          // use top prop, second argument if present or fallback to scrollY\n          arguments[0].top !== undefined\n            ? arguments[0].top\n            : arguments[1] !== undefined\n              ? arguments[1]\n              : w.scrollY || w.pageYOffset\n        );\n\n        return;\n      }\n\n      // LET THE SMOOTHNESS BEGIN!\n      smoothScroll.call(\n        w,\n        d.body,\n        arguments[0].left !== undefined\n          ? ~~arguments[0].left\n          : w.scrollX || w.pageXOffset,\n        arguments[0].top !== undefined\n          ? ~~arguments[0].top\n          : w.scrollY || w.pageYOffset\n      );\n    };\n\n    // w.scrollBy\n    w.scrollBy = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0])) {\n        original.scrollBy.call(\n          w,\n          arguments[0].left !== undefined\n            ? arguments[0].left\n            : typeof arguments[0] !== 'object' ? arguments[0] : 0,\n          arguments[0].top !== undefined\n            ? arguments[0].top\n            : arguments[1] !== undefined ? arguments[1] : 0\n        );\n\n        return;\n      }\n\n      // LET THE SMOOTHNESS BEGIN!\n      smoothScroll.call(\n        w,\n        d.body,\n        ~~arguments[0].left + (w.scrollX || w.pageXOffset),\n        ~~arguments[0].top + (w.scrollY || w.pageYOffset)\n      );\n    };\n\n    // Element.prototype.scroll and Element.prototype.scrollTo\n    Element.prototype.scroll = Element.prototype.scrollTo = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        // if one number is passed, throw error to match Firefox implementation\n        if (typeof arguments[0] === 'number' && arguments[1] === undefined) {\n          throw new SyntaxError('Value could not be converted');\n        }\n\n        original.elementScroll.call(\n          this,\n          // use left prop, first number argument or fallback to scrollLeft\n          arguments[0].left !== undefined\n            ? ~~arguments[0].left\n            : typeof arguments[0] !== 'object' ? ~~arguments[0] : this.scrollLeft,\n          // use top prop, second argument or fallback to scrollTop\n          arguments[0].top !== undefined\n            ? ~~arguments[0].top\n            : arguments[1] !== undefined ? ~~arguments[1] : this.scrollTop\n        );\n\n        return;\n      }\n\n      var left = arguments[0].left;\n      var top = arguments[0].top;\n\n      // LET THE SMOOTHNESS BEGIN!\n      smoothScroll.call(\n        this,\n        this,\n        typeof left === 'undefined' ? this.scrollLeft : ~~left,\n        typeof top === 'undefined' ? this.scrollTop : ~~top\n      );\n    };\n\n    // Element.prototype.scrollBy\n    Element.prototype.scrollBy = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        original.elementScroll.call(\n          this,\n          arguments[0].left !== undefined\n            ? ~~arguments[0].left + this.scrollLeft\n            : ~~arguments[0] + this.scrollLeft,\n          arguments[0].top !== undefined\n            ? ~~arguments[0].top + this.scrollTop\n            : ~~arguments[1] + this.scrollTop\n        );\n\n        return;\n      }\n\n      this.scroll({\n        left: ~~arguments[0].left + this.scrollLeft,\n        top: ~~arguments[0].top + this.scrollTop,\n        behavior: arguments[0].behavior\n      });\n    };\n\n    // Element.prototype.scrollIntoView\n    Element.prototype.scrollIntoView = function() {\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        original.scrollIntoView.call(\n          this,\n          arguments[0] === undefined ? true : arguments[0]\n        );\n\n        return;\n      }\n\n      // LET THE SMOOTHNESS BEGIN!\n      var scrollableParent = findScrollableParent(this);\n      var parentRects = scrollableParent.getBoundingClientRect();\n      var clientRects = this.getBoundingClientRect();\n\n      if (scrollableParent !== d.body) {\n        // reveal element inside parent\n        smoothScroll.call(\n          this,\n          scrollableParent,\n          scrollableParent.scrollLeft + clientRects.left - parentRects.left,\n          scrollableParent.scrollTop + clientRects.top - parentRects.top\n        );\n\n        // reveal parent in viewport unless is fixed\n        if (w.getComputedStyle(scrollableParent).position !== 'fixed') {\n          w.scrollBy({\n            left: parentRects.left,\n            top: parentRects.top,\n            behavior: 'smooth'\n          });\n        }\n      } else {\n        // reveal element in viewport\n        w.scrollBy({\n          left: clientRects.left,\n          top: clientRects.top,\n          behavior: 'smooth'\n        });\n      }\n    };\n  }\n\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\n    // commonjs\n    module.exports = { polyfill: polyfill };\n  } else {\n    // global\n    polyfill();\n  }\n\n}());\n","import merge from 'deepmerge';\nimport { Evented } from './evented.js';\nimport autoBind from './utils/auto-bind.js';\nimport { isElement, isFunction, isUndefined } from './utils/type-check.js';\nimport { bindAdvance } from './utils/bind.js';\nimport {\n  setupTooltip,\n  parseAttachTo,\n  normalizePrefix,\n  uuid\n} from './utils/general.js';\nimport ShepherdElement from './components/shepherd-element.svelte';\n\n// Polyfills\nimport smoothscroll from 'smoothscroll-polyfill';\nsmoothscroll.polyfill();\n\n/**\n * A class representing steps to be added to a tour.\n * @extends {Evented}\n */\nexport class Step extends Evented {\n  /**\n   * Create a step\n   * @param {Tour} tour The tour for the step\n   * @param {Object} options The options for the step\n   * @param {boolean} options.arrow Whether to display the arrow for the tooltip or not. Defaults to `true`.\n   * @param {Object} options.attachTo What element the step should be attached to on the page.\n   * It should be an object with the properties `element` and `on`, where `element` is an element selector string\n   * or a DOM element and `on` is the optional direction to place the Popper tooltip.\n   *\n   * ```js\n   * const step = new Step(tour, {\n   *   attachTo: { element: '.some .selector-path', on: 'left' },\n   *   ...moreOptions\n   * });\n   * ```\n   *\n   * If you don’t specify an attachTo the element will appear in the middle of the screen.\n   * If you omit the `on` portion of `attachTo`, the element will still be highlighted, but the tooltip will appear\n   * in the middle of the screen, without an arrow pointing to the target.\n   * @param {HTMLElement|string} options.attachTo.element\n   * @param {string} options.attachTo.on\n   * @param {Object} options.advanceOn An action on the page which should advance shepherd to the next step.\n   * It should be an object with a string `selector` and an `event` name\n   * ```js\n   * const step = new Step(tour, {\n   *   advanceOn: { selector: '.some .selector-path', event: 'click' },\n   *   ...moreOptions\n   * });\n   * ```\n   * `event` doesn’t have to be an event inside the tour, it can be any event fired on any element on the page.\n   * You can also always manually advance the Tour by calling `myTour.next()`.\n   * @param {function} options.beforeShowPromise A function that returns a promise.\n   * When the promise resolves, the rest of the `show` code for the step will execute.\n   * @param {Object[]} options.buttons An array of buttons to add to the step. These will be rendered in a\n   * footer below the main body text.\n   * @param {function} options.buttons.button.action A function executed when the button is clicked on.\n   * It is automatically bound to the `tour` the step is associated with, so things like `this.next` will\n   * work inside the action.\n   * You can use action to skip steps or navigate to specific steps, with something like:\n   * ```js\n   * action() {\n   *   return this.show('some_step_name');\n   * }\n   * ```\n   * @param {string} options.buttons.button.classes Extra classes to apply to the `<a>`\n   * @param {boolean} options.buttons.button.secondary If true, a shepherd-button-secondary class is applied to the button\n   * @param {string} options.buttons.button.text The HTML text of the button\n   * @param {boolean} options.buttons.button.disabled Should the button be disabled?\n   * @param {string} options.buttons.button.label The aria-label text of the button\n   * @param {boolean} options.canClickTarget A boolean, that when set to false, will set `pointer-events: none` on the target\n   * @param {object} options.cancelIcon Options for the cancel icon\n   * @param {boolean} options.cancelIcon.enabled Should a cancel “✕” be shown in the header of the step?\n   * @param {string} options.cancelIcon.label The label to add for `aria-label`\n   * @param {string} options.classes A string of extra classes to add to the step's content element.\n   * @param {string} options.highlightClass An extra class to apply to the `attachTo` element when it is\n   * highlighted (that is, when its step is active). You can then target that selector in your CSS.\n   * @param {string} options.id The string to use as the `id` for the step.\n   * @param {object} options.popperOptions Extra options to pass to Popper\n   * @param {boolean|Object} options.scrollTo Should the element be scrolled to when this step is shown? If true, uses the default `scrollIntoView`,\n   * if an object, passes that object as the params to `scrollIntoView` i.e. `{behavior: 'smooth', block: 'center'}`\n   * @param {function} options.scrollToHandler A function that lets you override the default scrollTo behavior and\n   * define a custom action to do the scrolling, and possibly other logic.\n   * @param {function} options.showOn A function that, when it returns `true`, will show the step.\n   * If it returns false, the step will be skipped.\n   * @param {string} options.text The text in the body of the step. It can be one of three types:\n   * ```\n   * - HTML string\n   * - `HTMLElement` object\n   * - `Function` to be executed when the step is built. It must return one the two options above.\n   * ```\n   * @param {string} options.title The step's title. It becomes an `h3` at the top of the step. It can be one of two types:\n   * ```\n   * - HTML string\n   * - `Function` to be executed when the step is built. It must return HTML string.\n   * ```\n   * @param {Object} options.when You can define `show`, `hide`, etc events inside `when`. For example:\n   * ```js\n   * when: {\n   *   show: function() {\n   *     window.scrollTo(0, 0);\n   *   }\n   * }\n   * ```\n   * @param {Number} options.modalOverlayOpeningPadding An amount of padding to add around the modal overlay opening\n   * @param {Number} options.modalOverlayOpeningRadius An amount of border radius to add around the modal overlay opening\n   * @return {Step} The newly created Step instance\n   */\n  constructor(tour, options = {}) {\n    super(tour, options);\n    this.tour = tour;\n    this.classPrefix = this.tour.options\n      ? normalizePrefix(this.tour.options.classPrefix)\n      : '';\n    this.styles = tour.styles;\n\n    autoBind(this);\n\n    this._setOptions(options);\n\n    return this;\n  }\n\n  /**\n   * Cancel the tour\n   * Triggers the `cancel` event\n   */\n  cancel() {\n    this.tour.cancel();\n    this.trigger('cancel');\n  }\n\n  /**\n   * Complete the tour\n   * Triggers the `complete` event\n   */\n  complete() {\n    this.tour.complete();\n    this.trigger('complete');\n  }\n\n  /**\n   * Remove the step, delete the step's element, and destroy the Popper instance for the step.\n   * Triggers `destroy` event\n   */\n  destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    if (isElement(this.el) && this.el.parentNode) {\n      this.el.parentNode.removeChild(this.el);\n      this.el = null;\n    }\n\n    if (this.target) {\n      this._updateStepTargetOnHide();\n    }\n\n    this.trigger('destroy');\n  }\n\n  /**\n   * Returns the tour for the step\n   * @return {Tour} The tour instance\n   */\n  getTour() {\n    return this.tour;\n  }\n\n  /**\n   * Hide the step\n   */\n  hide() {\n    this.tour.modal.hide();\n\n    this.trigger('before-hide');\n\n    if (this.el) {\n      this.el.hidden = true;\n    }\n\n    if (this.target) {\n      this._updateStepTargetOnHide();\n    }\n\n    this.trigger('hide');\n  }\n\n  /**\n   * Checks if the step should be centered or not\n   * @return {boolean} True if the step is centered\n   */\n  isCentered() {\n    const attachToOptions = parseAttachTo(this);\n    return !attachToOptions.element || !attachToOptions.on;\n  }\n\n  /**\n   * Check if the step is open and visible\n   * @return {boolean} True if the step is open and visible\n   */\n  isOpen() {\n    return Boolean(this.el && !this.el.hidden);\n  }\n\n  /**\n   * Wraps `_show` and ensures `beforeShowPromise` resolves before calling show\n   * @return {*|Promise}\n   */\n  show() {\n    if (isFunction(this.options.beforeShowPromise)) {\n      const beforeShowPromise = this.options.beforeShowPromise();\n      if (!isUndefined(beforeShowPromise)) {\n        return beforeShowPromise.then(() => this._show());\n      }\n    }\n    this._show();\n  }\n\n  /**\n   * Updates the options of the step.\n   *\n   * @param {Object} options The options for the step\n   */\n  updateStepOptions(options) {\n    Object.assign(this.options, options);\n\n    if (this.shepherdElementComponent) {\n      this.shepherdElementComponent.$set({ step: this });\n    }\n  }\n\n  /**\n   * Creates Shepherd element for step based on options\n   *\n   * @return {Element} The DOM element for the step tooltip\n   * @private\n   */\n  _createTooltipContent() {\n    const descriptionId = `${this.id}-description`;\n    const labelId = `${this.id}-label`;\n\n    this.shepherdElementComponent = new ShepherdElement({\n      target: document.body,\n      props: {\n        classPrefix: this.classPrefix,\n        descriptionId,\n        labelId,\n        step: this,\n        styles: this.styles\n      }\n    });\n\n    return this.shepherdElementComponent.getElement();\n  }\n\n  /**\n   * If a custom scrollToHandler is defined, call that, otherwise do the generic\n   * scrollIntoView call.\n   *\n   * @param {boolean|Object} scrollToOptions If true, uses the default `scrollIntoView`,\n   * if an object, passes that object as the params to `scrollIntoView` i.e. `{ behavior: 'smooth', block: 'center' }`\n   * @private\n   */\n  _scrollTo(scrollToOptions) {\n    const { element } = parseAttachTo(this);\n\n    if (isFunction(this.options.scrollToHandler)) {\n      this.options.scrollToHandler(element);\n    } else if (\n      isElement(element) &&\n      typeof element.scrollIntoView === 'function'\n    ) {\n      element.scrollIntoView(scrollToOptions);\n    }\n  }\n\n  /**\n   * _getClassOptions gets all possible classes for the step\n   * @param {Object} stepOptions The step specific options\n   * @returns {String} unique string from array of classes\n   * @private\n   */\n  _getClassOptions(stepOptions) {\n    const defaultStepOptions =\n      this.tour && this.tour.options && this.tour.options.defaultStepOptions;\n    const stepClasses = stepOptions.classes ? stepOptions.classes : '';\n    const defaultStepOptionsClasses =\n      defaultStepOptions && defaultStepOptions.classes\n        ? defaultStepOptions.classes\n        : '';\n    const allClasses = [\n      ...stepClasses.split(' '),\n      ...defaultStepOptionsClasses.split(' ')\n    ];\n    const uniqClasses = new Set(allClasses);\n\n    return Array.from(uniqClasses).join(' ').trim();\n  }\n\n  /**\n   * Sets the options for the step, maps `when` to events, sets up buttons\n   * @param {Object} options The options for the step\n   * @private\n   */\n  _setOptions(options = {}) {\n    let tourOptions =\n      this.tour && this.tour.options && this.tour.options.defaultStepOptions;\n\n    tourOptions = merge({}, tourOptions || {});\n\n    this.options = Object.assign(\n      {\n        arrow: true\n      },\n      tourOptions,\n      options\n    );\n\n    const { when } = this.options;\n\n    this.options.classes = this._getClassOptions(options);\n\n    this.destroy();\n    this.id = this.options.id || `step-${uuid()}`;\n\n    if (when) {\n      Object.keys(when).forEach((event) => {\n        this.on(event, when[event], this);\n      });\n    }\n  }\n\n  /**\n   * Create the element and set up the Popper instance\n   * @private\n   */\n  _setupElements() {\n    if (!isUndefined(this.el)) {\n      this.destroy();\n    }\n\n    this.el = this._createTooltipContent();\n\n    if (this.options.advanceOn) {\n      bindAdvance(this);\n    }\n    setupTooltip(this);\n  }\n\n  /**\n   * Triggers `before-show`, generates the tooltip DOM content,\n   * sets up a Popper instance for the tooltip, then triggers `show`.\n   * @private\n   */\n  _show() {\n    this.trigger('before-show');\n\n    this._setupElements();\n\n    if (!this.tour.modal) {\n      this.tour._setupModal();\n    }\n\n    this.tour.modal.setupForStep(this);\n    this._styleTargetElementForStep(this);\n    this.el.hidden = false;\n\n    // start scrolling to target before showing the step\n    if (this.options.scrollTo) {\n      setTimeout(() => {\n        this._scrollTo(this.options.scrollTo);\n      });\n    }\n\n    this.el.hidden = false;\n\n    const content = this.shepherdElementComponent.getElement();\n    const target = this.target || document.body;\n    target.classList.add(`${this.classPrefix}shepherd-enabled`);\n    target.classList.add(`${this.classPrefix}shepherd-target`);\n    content.classList.add('shepherd-enabled');\n\n    this.trigger('show');\n  }\n\n  /**\n   * Modulates the styles of the passed step's target element, based on the step's options and\n   * the tour's `modal` option, to visually emphasize the element\n   *\n   * @param step The step object that attaches to the element\n   * @private\n   */\n  _styleTargetElementForStep(step) {\n    const targetElement = step.target;\n\n    if (!targetElement) {\n      return;\n    }\n\n    if (step.options.highlightClass) {\n      targetElement.classList.add(step.options.highlightClass);\n    }\n\n    if (step.options.canClickTarget === false) {\n      targetElement.classList.add('shepherd-target-click-disabled');\n    }\n  }\n\n  /**\n   * When a step is hidden, remove the highlightClass and 'shepherd-enabled'\n   * and 'shepherd-target' classes\n   * @private\n   */\n  _updateStepTargetOnHide() {\n    if (this.options.highlightClass) {\n      this.target.classList.remove(this.options.highlightClass);\n    }\n\n    this.target.classList.remove(\n      `${this.classPrefix}shepherd-enabled`,\n      `${this.classPrefix}shepherd-target`\n    );\n  }\n}\n","/**\n * Cleanup the steps and set pointerEvents back to 'auto'\n * @param tour The tour object\n */\nexport function cleanupSteps(tour) {\n  if (tour) {\n    const { steps } = tour;\n\n    steps.forEach((step) => {\n      if (step.options && step.options.canClickTarget === false && step.options.attachTo) {\n        if (step.target instanceof HTMLElement) {\n          step.target.classList.remove('shepherd-target-click-disabled');\n        }\n      }\n    });\n  }\n}\n","/**\n * Generates the svg path data for a rounded rectangle overlay\n * @param {Object} dimension - Dimensions of rectangle.\n * @param {number} width - Width.\n * @param {number} height - Height.\n * @param {number} [x=0] - Offset from top left corner in x axis. default 0.\n * @param {number} [y=0] - Offset from top left corner in y axis. default 0.\n * @param {number} [r=0] - Corner Radius. Keep this smaller than  half of width or height.\n * @returns {string} - Rounded rectangle overlay path data.\n */\nexport function makeOverlayPath({ width, height, x = 0, y = 0, r = 0 }) {\n  const { innerWidth: w, innerHeight: h } = window;\n\n  return `M${w},${h}\\\nH0\\\nV0\\\nH${w}\\\nV${h}\\\nZ\\\nM${x + r},${y}\\\na${r},${r},0,0,0-${r},${r}\\\nV${height + y - r}\\\na${r},${r},0,0,0,${r},${r}\\\nH${width + x - r}\\\na${r},${r},0,0,0,${r}-${r}\\\nV${y + r}\\\na${r},${r},0,0,0-${r}-${r}\\\nZ`;\n}\n","<script>\n  import { uuid } from '../utils/general.js';\n  import { makeOverlayPath } from '../utils/overlay-path.js';\n\n  export let element, openingProperties;\n  const guid = uuid();\n  let modalIsVisible = false;\n  let rafId = undefined;\n  let pathDefinition;\n\n  $: pathDefinition = makeOverlayPath(openingProperties);\n\n  closeModalOpening();\n\n  export const getElement = () => element;\n\n  export function closeModalOpening() {\n    openingProperties = {\n      width: 0,\n      height: 0,\n      x: 0,\n      y: 0,\n      r: 0\n    };\n  }\n\n  /**\n   * Hide the modal overlay\n   */\n  export function hide() {\n    modalIsVisible = false;\n\n    // Ensure we cleanup all event listeners when we hide the modal\n    _cleanupStepEventListeners();\n  }\n\n  /**\n   * Uses the bounds of the element we want the opening overtop of to set the dimensions of the opening and position it\n   * @param {HTMLElement} targetElement The element the opening will expose\n   * @param {HTMLElement} scrollParent The scrollable parent of the target element\n   * @param {Number} modalOverlayOpeningPadding An amount of padding to add around the modal overlay opening\n   * @param {Number} modalOverlayOpeningRadius An amount of border radius to add around the modal overlay opening\n   */\n  export function positionModalOpening(targetElement, scrollParent, modalOverlayOpeningPadding = 0, modalOverlayOpeningRadius = 0) {\n    if (targetElement.getBoundingClientRect) {\n      const { y, height } = _getVisibleHeight(targetElement, scrollParent);\n      const { x, width, left } = targetElement.getBoundingClientRect();\n\n      // getBoundingClientRect is not consistent. Some browsers use x and y, while others use left and top\n      openingProperties = {\n        width: (width + (modalOverlayOpeningPadding * 2)),\n        height: (height + (modalOverlayOpeningPadding * 2)),\n        x: (x || left) - modalOverlayOpeningPadding,\n        y: y - modalOverlayOpeningPadding,\n        r: modalOverlayOpeningRadius\n      };\n    }\n  }\n\n  /**\n   * If modal is enabled, setup the svg mask opening and modal overlay for the step\n   * @param {Step} step The step instance\n   */\n  export function setupForStep(step) {\n    // Ensure we move listeners from the previous step, before we setup new ones\n    _cleanupStepEventListeners();\n\n    if (step.tour.options.useModalOverlay) {\n      _styleForStep(step);\n      show();\n    } else {\n      hide();\n    }\n  }\n\n  /**\n   * Show the modal overlay\n   */\n  export function show() {\n    modalIsVisible = true;\n  }\n\n  const _preventModalBodyTouch = (e) => {\n    e.preventDefault();\n  };\n\n  const _preventModalOverlayTouch = (e) => {\n    e.stopPropagation();\n  };\n\n  /**\n   * Add touchmove event listener\n   * @private\n   */\n  function _addStepEventListeners() {\n    // Prevents window from moving on touch.\n    window.addEventListener('touchmove', _preventModalBodyTouch, {\n      passive: false\n    });\n  }\n\n  /**\n   * Cancel the requestAnimationFrame loop and remove touchmove event listeners\n   * @private\n   */\n  function _cleanupStepEventListeners() {\n    if (rafId) {\n      cancelAnimationFrame(rafId);\n      rafId = undefined;\n    }\n\n    window.removeEventListener('touchmove', _preventModalBodyTouch, {\n      passive: false\n    });\n  }\n\n  /**\n   * Style the modal for the step\n   * @param {Step} step The step to style the opening for\n   * @private\n   */\n  function _styleForStep(step) {\n    const { modalOverlayOpeningPadding, modalOverlayOpeningRadius } = step.options;\n\n    if (step.target) {\n      const scrollParent = _getScrollParent(step.target);\n\n      // Setup recursive function to call requestAnimationFrame to update the modal opening position\n      const rafLoop = () => {\n        rafId = undefined;\n        positionModalOpening(step.target, scrollParent, modalOverlayOpeningPadding, modalOverlayOpeningRadius);\n        rafId = requestAnimationFrame(rafLoop);\n      };\n\n      rafLoop();\n\n      _addStepEventListeners();\n    } else {\n      closeModalOpening();\n    }\n  }\n\n  /**\n  * Find the closest scrollable parent element\n  * @param {HTMLElement} element The target element\n  * @returns {HTMLElement}\n  * @private\n  */\n  function _getScrollParent(element) {\n    if (!element) {\n      return null;\n    }\n\n    const isHtmlElement = element instanceof HTMLElement;\n    const overflowY = isHtmlElement && window.getComputedStyle(element).overflowY;\n    const isScrollable = overflowY !== 'hidden' && overflowY !== 'visible';\n\n\n    if (isScrollable && element.scrollHeight >= element.clientHeight) {\n       return element;\n    }\n\n    return _getScrollParent(element.parentElement);\n  }\n\n  /**\n  * Get the visible height of the target element relative to its scrollParent.\n  * If there is no scroll parent, the height of the element is returned.\n  *\n  * @param {HTMLElement} element The target element\n  * @param {HTMLElement} [scrollParent] The scrollable parent element\n  * @returns {{y: number, height: number}}\n  * @private\n  */\n  function _getVisibleHeight(element, scrollParent) {\n    const elementRect = element.getBoundingClientRect();\n    let top = elementRect.y || elementRect.top;\n    let bottom = elementRect.bottom || top + elementRect.height;\n\n    if (scrollParent) {\n      const scrollRect = scrollParent.getBoundingClientRect();\n      const scrollTop = scrollRect.y || scrollRect.top;\n      const scrollBottom = scrollRect.bottom || scrollTop + scrollRect.height;\n\n      top = Math.max(top, scrollTop);\n      bottom = Math.min(bottom, scrollBottom);\n    }\n\n    const height = Math.max(bottom - top, 0); // Default to 0 if height is negative\n\n    return {y: top, height};\n  }\n</script>\n\n<style global>\n  .shepherd-modal-overlay-container {\n    -ms-filter: progid:dximagetransform.microsoft.gradient.alpha(Opacity=50);\n    filter: alpha(opacity=50);\n    height: 0;\n    left: 0;\n    opacity: 0;\n    overflow: hidden;\n    pointer-events: none;\n    position: fixed;\n    top: 0;\n    transition: all 0.3s ease-out, height 0ms 0.3s, opacity 0.3s 0ms;\n    width: 100vw;\n    z-index: 9997;\n  }\n\n  .shepherd-modal-overlay-container.shepherd-modal-is-visible {\n    height: 100vh;\n    opacity: 0.5;\n    transition: all 0.3s ease-out, height 0s 0s, opacity 0.3s 0s;\n  }\n\n  .shepherd-modal-overlay-container.shepherd-modal-is-visible path {\n    pointer-events: all;\n  }\n</style>\n\n<svg\n  bind:this={element}\n  class=\"{`${(modalIsVisible ? 'shepherd-modal-is-visible' : '')} shepherd-modal-overlay-container`}\"\n  on:touchmove={_preventModalOverlayTouch}\n>\n  <path d=\"{pathDefinition}\"></path>\n</svg>\n","import { Evented } from './evented.js';\nimport { Step } from './step.js';\nimport autoBind from './utils/auto-bind.js';\nimport { isElement, isFunction, isString, isUndefined } from './utils/type-check.js';\nimport { cleanupSteps } from './utils/cleanup.js';\nimport { normalizePrefix, uuid } from './utils/general.js';\nimport ShepherdModal from './components/shepherd-modal.svelte';\n\nconst Shepherd = new Evented();\n\n/**\n * Class representing the site tour\n * @extends {Evented}\n */\nexport class Tour extends Evented {\n  /**\n   * @param {Object} options The options for the tour\n   * @param {boolean} options.confirmCancel If true, will issue a `window.confirm` before cancelling\n   * @param {string} options.confirmCancelMessage The message to display in the confirm dialog\n   * @param {string} options.classPrefix The prefix to add to the `shepherd-enabled` and `shepherd-target` class names as well as the `data-shepherd-step-id`.\n   * @param {Object} options.defaultStepOptions Default options for Steps ({@link Step#constructor}), created through `addStep`\n   * @param {boolean} options.exitOnEsc Exiting the tour with the escape key will be enabled unless this is explicitly\n   * set to false.\n   * @param {boolean} options.keyboardNavigation Navigating the tour via left and right arrow keys will be enabled\n   * unless this is explicitly set to false.\n   * @param {HTMLElement} options.modalContainer An optional container element for the modal.\n   * If not set, the modal will be appended to `document.body`.\n   * @param {object[] | Step[]} options.steps An array of step options objects or Step instances to initialize the tour with\n   * @param {string} options.tourName An optional \"name\" for the tour. This will be appended to the the tour's\n   * dynamically generated `id` property -- which is also set on the `body` element as the `data-shepherd-active-tour` attribute\n   * whenever the tour becomes active.\n   * @param {boolean} options.useModalOverlay Whether or not steps should be placed above a darkened\n   * modal overlay. If true, the overlay will create an opening around the target element so that it\n   * can remain interactive\n   * @returns {Tour}\n   */\n  constructor(options = {}) {\n    super(options);\n\n    autoBind(this);\n\n    const defaultTourOptions = {\n      exitOnEsc: true,\n      keyboardNavigation: true\n    };\n\n    this.options = Object.assign({}, defaultTourOptions, options);\n    this.classPrefix = normalizePrefix(this.options.classPrefix);\n    this.steps = [];\n    this.addSteps(this.options.steps);\n\n    // Pass these events onto the global Shepherd object\n    const events = ['active', 'cancel', 'complete', 'inactive', 'show', 'start'];\n    events.map((event) => {\n      ((e) => {\n        this.on(e, (opts) => {\n          opts = opts || {};\n          opts.tour = this;\n          Shepherd.trigger(e, opts);\n        });\n      })(event);\n    });\n\n    this._setTourID();\n\n    return this;\n  }\n\n  /**\n   * Adds a new step to the tour\n   * @param {Object|Step} options An object containing step options or a Step instance\n   * @param {number} index The optional index to insert the step at. If undefined, the step\n   * is added to the end of the array.\n   * @return {Step} The newly added step\n   */\n  addStep(options, index) {\n    let step = options;\n\n    if (!(step instanceof Step)) {\n      step = new Step(this, step);\n    } else {\n      step.tour = this;\n    }\n\n    if (!isUndefined(index)) {\n      this.steps.splice(index, 0, step);\n    } else {\n      this.steps.push(step);\n    }\n\n    return step;\n  }\n\n  /**\n   * Add multiple steps to the tour\n   * @param {Array<object> | Array<Step>} steps The steps to add to the tour\n   */\n  addSteps(steps) {\n    if (Array.isArray(steps)) {\n      steps.forEach((step) => {\n        this.addStep(step);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * Go to the previous step in the tour\n   */\n  back() {\n    const index = this.steps.indexOf(this.currentStep);\n    this.show(index - 1, false);\n  }\n\n  /**\n   * Calls _done() triggering the 'cancel' event\n   * If `confirmCancel` is true, will show a window.confirm before cancelling\n   */\n  cancel() {\n    if (this.options.confirmCancel) {\n      const cancelMessage = this.options.confirmCancelMessage || 'Are you sure you want to stop the tour?';\n      const stopTour = window.confirm(cancelMessage);\n      if (stopTour) {\n        this._done('cancel');\n      }\n    } else {\n      this._done('cancel');\n    }\n  }\n\n  /**\n   * Calls _done() triggering the `complete` event\n   */\n  complete() {\n    this._done('complete');\n  }\n\n  /**\n   * Gets the step from a given id\n   * @param {Number|String} id The id of the step to retrieve\n   * @return {Step} The step corresponding to the `id`\n   */\n  getById(id) {\n    return this.steps.find((step) => {\n      return step.id === id;\n    });\n  }\n\n  /**\n   * Gets the current step\n   * @returns {Step|null}\n   */\n  getCurrentStep() {\n    return this.currentStep;\n  }\n\n  /**\n   * Hide the current step\n   */\n  hide() {\n    const currentStep = this.getCurrentStep();\n\n    if (currentStep) {\n      return currentStep.hide();\n    }\n  }\n\n  /**\n   * Check if the tour is active\n   * @return {boolean}\n   */\n  isActive() {\n    return Shepherd.activeTour === this;\n  }\n\n  /**\n   * Go to the next step in the tour\n   * If we are at the end, call `complete`\n   */\n  next() {\n    const index = this.steps.indexOf(this.currentStep);\n\n    if (index === this.steps.length - 1) {\n      this.complete();\n    } else {\n      this.show(index + 1, true);\n    }\n  }\n\n  /**\n   * Removes the step from the tour\n   * @param {String} name The id for the step to remove\n   */\n  removeStep(name) {\n    const current = this.getCurrentStep();\n\n    // Find the step, destroy it and remove it from this.steps\n    this.steps.some((step, i) => {\n      if (step.id === name) {\n        if (step.isOpen()) {\n          step.hide();\n        }\n\n        step.destroy();\n        this.steps.splice(i, 1);\n\n        return true;\n      }\n    });\n\n    if (current && current.id === name) {\n      this.currentStep = undefined;\n\n      // If we have steps left, show the first one, otherwise just cancel the tour\n      this.steps.length ? this.show(0) : this.cancel();\n    }\n  }\n\n  /**\n   * Show a specific step in the tour\n   * @param {Number|String} key The key to look up the step by\n   * @param {Boolean} forward True if we are going forward, false if backward\n   */\n  show(key = 0, forward = true) {\n    const step = isString(key) ? this.getById(key) : this.steps[key];\n\n    if (step) {\n      this._updateStateBeforeShow();\n\n      const shouldSkipStep = isFunction(step.options.showOn) && !step.options.showOn();\n\n      // If `showOn` returns false, we want to skip the step, otherwise, show the step like normal\n      if (shouldSkipStep) {\n        this._skipStep(step, forward);\n      } else {\n        this.trigger('show', {\n          step,\n          previous: this.currentStep\n        });\n\n        this.currentStep = step;\n        step.show();\n      }\n    }\n  }\n\n  /**\n   * Start the tour\n   */\n  start() {\n    this.trigger('start');\n\n    // Save the focused element before the tour opens\n    this.focusedElBeforeOpen = document.activeElement;\n\n    this.currentStep = null;\n\n    this._setupModal();\n\n    this._setupActiveTour();\n    this.next();\n  }\n\n  /**\n   * Called whenever the tour is cancelled or completed, basically anytime we exit the tour\n   * @param {String} event The event name to trigger\n   * @private\n   */\n  _done(event) {\n    const index = this.steps.indexOf(this.currentStep);\n    if (Array.isArray(this.steps)) {\n      this.steps.forEach((step) => step.destroy());\n    }\n\n    cleanupSteps(this);\n\n    this.trigger(event, { index });\n\n    Shepherd.activeTour = null;\n    this.trigger('inactive', { tour: this });\n\n    if (this.modal) {\n      this.modal.hide();\n    }\n\n    if (event === 'cancel' || event === 'complete') {\n      if (this.modal) {\n        const modalContainer = document.querySelector('.shepherd-modal-overlay-container');\n\n        if (modalContainer) {\n          modalContainer.remove();\n        }\n      }\n    }\n\n    // Focus the element that was focused before the tour started\n    if (isElement(this.focusedElBeforeOpen)) {\n      this.focusedElBeforeOpen.focus();\n    }\n  }\n\n  /**\n   * Make this tour \"active\"\n   * @private\n   */\n  _setupActiveTour() {\n    this.trigger('active', { tour: this });\n\n    Shepherd.activeTour = this;\n  }\n\n  /**\n   * _setupModal create the modal container and instance\n   * @private\n   */\n  _setupModal() {\n    this.modal = new ShepherdModal({\n      target: this.options.modalContainer || document.body,\n      props:\n      {\n        classPrefix: this.classPrefix,\n        styles: this.styles\n      }\n    });\n  }\n\n  /**\n   * Called when `showOn` evaluates to false, to skip the step\n   * @param {Step} step The step to skip\n   * @param {Boolean} forward True if we are going forward, false if backward\n   * @private\n   */\n  _skipStep(step, forward) {\n    const index = this.steps.indexOf(step);\n    const nextIndex = forward ? index + 1 : index - 1;\n    this.show(nextIndex, forward);\n  }\n\n  /**\n   * Before showing, hide the current step and if the tour is not\n   * already active, call `this._setupActiveTour`.\n   * @private\n   */\n  _updateStateBeforeShow() {\n    if (this.currentStep) {\n      this.currentStep.hide();\n    }\n\n    if (!this.isActive()) {\n      this._setupActiveTour();\n    }\n  }\n\n  /**\n   * Sets this.id to `${tourName}--${uuid}`\n   * @private\n   */\n  _setTourID() {\n    const tourName = this.options.tourName || 'tour';\n\n    this.id = `${tourName}--${uuid()}`;\n  }\n}\n\nexport { Shepherd };\n","import { Step } from './step.js';\nimport { Shepherd, Tour } from './tour.js';\n\nObject.assign(Shepherd, { Tour, Step });\n\nexport default Shepherd;\n"],"names":["isMergeableObject","value","isNonNullObject","isSpecial","stringValue","Object","prototype","toString","call","isReactElement","canUseSymbol","Symbol","for","REACT_ELEMENT_TYPE","$$typeof","emptyTarget","val","Array","isArray","cloneUnlessOtherwiseSpecified","options","clone","deepmerge","defaultArrayMerge","target","source","concat","map","element","getMergeFunction","key","customMerge","getEnumerableOwnPropertySymbols","getOwnPropertySymbols","filter","symbol","propertyIsEnumerable","getKeys","keys","propertyIsOnObject","object","property","_","propertyIsUnsafe","hasOwnProperty","mergeObject","destination","forEach","arrayMerge","sourceIsArray","targetIsArray","sourceAndTargetTypesMatch","all","deepmergeAll","array","Error","reduce","prev","next","deepmerge_1","isElement","HTMLElement","isFunction","isString","isUndefined","undefined","Evented","on","event","handler","ctx","once","bindings","push","off","binding","index","splice","trigger","args","context","apply","autoBind","self","getOwnPropertyNames","constructor","i","length","bind","_setupAdvanceOnHandler","selector","step","isOpen","targetIsEl","el","currentTarget","targetIsSelector","matches","tour","bindAdvance","advanceOn","document","querySelector","e","console","error","addEventListener","removeEventListener","body","getBoundingClientRect","rect","width","height","top","right","bottom","left","x","y","getWindow","node","ownerDocument","defaultView","window","getWindowScroll","win","scrollLeft","pageXOffset","scrollTop","pageYOffset","OwnElement","Element","isHTMLElement","getHTMLElementScroll","getNodeScroll","getNodeName","nodeName","toLowerCase","getDocumentElement","documentElement","getWindowScrollBarX","getComputedStyle","isScrollParent","_getComputedStyle","overflow","overflowX","overflowY","test","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","scroll","offsets","clientLeft","clientTop","getLayoutRect","offsetLeft","offsetTop","offsetWidth","offsetHeight","getParentNode","assignedSlot","parentNode","host","getScrollParent","indexOf","listScrollParents","list","scrollParent","isBody","visualViewport","updatedList","isTableElement","getTrueOffsetParent","position","getOffsetParent","auto","basePlacements","start","end","clippingParents","viewport","popper","reference","variationPlacements","acc","placement","placements","beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite","modifierPhases","order","modifiers","Map","visited","Set","result","modifier","set","name","sort","add","requires","requiresIfExists","dep","has","depModifier","get","orderModifiers","orderedModifiers","phase","debounce","fn","pending","Promise","resolve","then","getBasePlacement","split","mergeByName","merged","current","existing","assign","data","DEFAULT_OPTIONS","strategy","areValidElements","_len","arguments","_key","some","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","createPopper","state","modifiersData","elements","attributes","styles","effectCleanupFns","isDestroyed","instance","setOptions","cleanupModifierEffects","scrollParents","contextElement","m","enabled","runModifierEffects","update","forceUpdate","_state$elements","rects","reset","_state$orderedModifie","_state$orderedModifie2","_options","destroy","onFirstUpdate","_ref3","_ref3$options","effect","cleanupFn","noopFn","passive","_ref","_options$scroll","_options$resize","resize","getVariation","getMainAxisFromPlacement","computeOffsets","basePlacement","variation","commonX","commonY","mainAxis","len","Math","floor","ceil","popperOffsets","unsetSides","roundOffsets","dpr","devicePixelRatio","round","mapToStyles","_ref2","_Object$assign2","popperRect","gpuAcceleration","adaptive","_roundOffsets","hasX","hasY","sideX","sideY","clientHeight","clientWidth","commonStyles","_Object$assign","transform","computeStyles","_options$gpuAccelerat","_options$adaptive","arrow","applyStyles","style","removeAttribute","setAttribute","initialStyles","margin","styleProperties","attribute","distanceAndSkiddingToXY","offset","invertDistance","skidding","distance","_options$offset","_data$state$placement","hash","getOppositePlacement","replace","matched","getOppositeVariationPlacement","getViewportRect","innerWidth","innerHeight","navigator","platform","getDocumentRect","winScroll","documentRect","max","toNumber","cssValue","parseFloat","getBorders","computedStyle","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","getDecorations","borders","isHTML","winScrollBarX","contains","parent","child","isShadow","Boolean","getRootNode","isSameNode","rectToClientRect","getClientRectFromMixedType","clippingParent","getClippingParents","canEscapeClipping","clipperElement","getClippingRect","boundary","rootBoundary","mainClippingParents","firstClippingParent","clippingRect","accRect","decorations","min","getFreshSideObject","mergePaddingObject","paddingObject","expandToHashMap","hashMap","detectOverflow","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","padding","altContext","referenceElement","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","axis","computeAutoPlacement","flipVariations","_options$allowedAutoP","allowedAutoPlacements","allPlacements","overflows","a","b","getExpandedFallbackPlacements","oppositePlacement","flip","_skip","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","preferredPlacement","isBasePlacement","referenceRect","checksMap","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","numberOfChecks","_loop","_i","fittingPlacement","find","slice","_ret","getAltAxis","within","preventOverflow","_options$tether","tether","_options$tetherOffset","tetherOffset","tetherOffsetValue","mainSide","altSide","additive","minLen","maxLen","arrowElement","arrowRect","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","arrowOffsetParent","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_mainSide","_altSide","_offset","_min","_max","_preventedOffset","_state$modifiersData$","minProp","maxProp","endDiff","startDiff","clientSize","centerToReference","center","axisProp","centerOffset","_options$element","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","hide","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","eventListeners","_getCenteredStylePopperModifier","makeCenteredPopper","centeredStylePopperModifier","popperOptions","setTimeout","focus","from","normalizePrefix","prefix","charAt","parseAttachTo","attachTo","returnOpts","setupTooltip","tooltip","attachToOptions","getPopperOptions","isCentered","content","shepherdElementComponent","getElement","classList","uuid","d","Date","now","c","r","random","defaultStepOptions","_mergeModifiers","stepOptions","mergedPopperOptions","names","mod","filteredModifiers","includes","noop","tar","src","k","run","blank_object","create","run_all","fns","is_function","thing","safe_not_equal","append","appendChild","insert","anchor","insertBefore","detach","removeChild","destroy_each","iterations","detaching","createElement","svg_element","createElementNS","text","createTextNode","space","empty","listen","attr","getAttribute","set_attributes","descriptors","getOwnPropertyDescriptors","__proto__","cssText","children","childNodes","toggle_class","toggle","current_component","set_current_component","component","get_current_component","onMount","$$","on_mount","afterUpdate","after_update","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","update_scheduled","schedule_update","flush","add_render_callback","flushing","seen_callbacks","pop","callback","clear","fragment","before_update","dirty","p","outroing","outros","group_outros","check_outros","transition_in","block","local","delete","transition_out","o","get_spread_update","levels","updates","to_null_out","accounted_for","$$scope","n","create_component","mount_component","on_destroy","new_on_destroy","destroy_component","make_dirty","fill","init","create_fragment","not_equal","props","parent_component","prop_values","bound","callbacks","ready","ret","hydrate","nodes","l","intro","SvelteComponent","$destroy","$on","type","$set","config","action","classes","secondary","label","disabled","getDisabled","$","buttons","cancelIcon","handleCancelClick","preventDefault","cancel","labelId","title","innerHTML","descriptionId","KEY_TAB","KEY_ESC","LEFT_ARROW","RIGHT_ARROW","getClassesArray","className","classPrefix","firstFocusableElement","focusableElements","lastFocusableElement","dataStepId","hasCancelIcon","hasTitle","id","querySelectorAll","updateDynamicClasses","removeClasses","addClasses","oldClasses","remove","newClasses","handleKeyDown","keyCode","shiftKey","activeElement","exitOnEsc","keyboardNavigation","back","polyfill","w","__forceSmoothScrollPolyfill__","SCROLL_TIME","original","scrollTo","scrollBy","elementScroll","scrollElement","scrollIntoView","performance","isMicrosoftBrowser","userAgent","userAgentPatterns","RegExp","join","ROUNDING_TOLERANCE","ease","cos","PI","shouldBailOut","firstArg","behavior","TypeError","hasScrollableSpace","scrollHeight","scrollWidth","canOverflow","overflowValue","isScrollable","isScrollableY","isScrollableX","findScrollableParent","time","currentX","currentY","elapsed","startTime","startX","startY","method","scrollable","requestAnimationFrame","smoothScroll","scrollX","scrollY","SyntaxError","scrollableParent","parentRects","clientRects","module","smoothscroll","Step","_setOptions","complete","_updateStepTargetOnHide","getTour","modal","hidden","show","beforeShowPromise","_show","updateStepOptions","_createTooltipContent","ShepherdElement","_scrollTo","scrollToOptions","scrollToHandler","_getClassOptions","stepClasses","defaultStepOptionsClasses","allClasses","uniqClasses","trim","tourOptions","merge","when","_setupElements","_setupModal","setupForStep","_styleTargetElementForStep","targetElement","highlightClass","canClickTarget","cleanupSteps","steps","makeOverlayPath","h","_getScrollParent","isHtmlElement","parentElement","_getVisibleHeight","elementRect","scrollRect","scrollBottom","openingProperties","guid","modalIsVisible","rafId","pathDefinition","closeModalOpening","_cleanupStepEventListeners","positionModalOpening","modalOverlayOpeningPadding","modalOverlayOpeningRadius","useModalOverlay","_styleForStep","_preventModalBodyTouch","_preventModalOverlayTouch","stopPropagation","_addStepEventListeners","cancelAnimationFrame","rafLoop","Shepherd","Tour","defaultTourOptions","addSteps","events","opts","_setTourID","addStep","currentStep","confirmCancel","cancelMessage","confirmCancelMessage","stopTour","confirm","_done","getById","getCurrentStep","isActive","activeTour","removeStep","forward","_updateStateBeforeShow","shouldSkipStep","showOn","_skipStep","previous","focusedElBeforeOpen","_setupActiveTour","modalContainer","ShepherdModal","nextIndex","tourName"],"mappings":"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"}